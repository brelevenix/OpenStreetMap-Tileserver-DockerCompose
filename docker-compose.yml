start-data:
  image: busybox
  volumes:
    - /var/lib/start
postgres-osm:
  image: openfirmware/postgres-osm
osm2pgsql:
  image: brelevenix/osm2pgsql
  links:
    - postgres-osm:pg
  volumes: 
    - ~/osm:/osm
  volumes_from:
    - start-data
  command: /etc/start.sh
shapefiles:
  image: brelevenix/shapefiles
osm-bright:
  image: brelevenix/osm-bright
  volumes_from:
    - start-data
    - shapefiles
  links:
    - postgres-osm:pg
tiles-data:
  image: busybox
  volumes:
    - /var/lib/tiles
renderd:
  image: brelevenix/renderd
  volumes_from:
    - start-data
    - osm-bright
    - tiles-data
  ports:
    - "80:80"
  links:
    - postgres-osm:pg
  command: /etc/start.sh
